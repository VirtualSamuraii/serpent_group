(function(t){function e(e){for(var r,o,i=e[0],c=e[1],l=e[2],d=0,h=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&h.push(n[o][0]),n[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);u&&u(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],r=!0,i=1;i<s.length;i++){var c=s[i];0!==n[c]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=s[0]))}return t}var r={},n={app:0},a=[];function o(e){if(r[e])return r[e].exports;var s=r[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=r,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(s,r,function(e){return t[e]}.bind(null,r));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=c;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},"1b3a":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var r=s("2b0e"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"flex flex-col h-screen w-screen",attrs:{id:"app"}},[s("Header"),s("main",{staticClass:"h-full w-full max-h-screen"},[s("router-view",{staticClass:"h-full"})],1)],1)},a=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("header",[t._m(0),s("div",{staticClass:"header--links-container"},[s("router-link",{staticClass:"header--links",attrs:{to:{name:"Home"}}},[t._v("Accueil")]),s("router-link",{staticClass:"header--links",attrs:{to:{name:"Hosts"}}},[t._v("Hôtes")]),s("router-link",{staticClass:"header--links",attrs:{to:{name:"Commands"}}},[t._v("Commandes")]),s("a",{staticClass:"header--links",attrs:{href:"#"}},[t._v("Déconnexion")])],1)])])},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"logo-container"}},[r("img",{attrs:{src:s("cf05"),width:"60px",height:"60px",alt:"MyC2 Logo"}}),r("h1",{staticClass:"text-xl font-semibold"},[t._v("Serpent C2")])])}],c={name:"Header"},l=c,u=(s("8baf"),s("2877")),d=Object(u["a"])(l,o,i,!1,null,null,null),h=d.exports,b={name:"App",components:{Header:h}},m=b,p=(s("034f"),Object(u["a"])(m,n,a,!1,null,null,null)),f=p.exports,_=s("8c4f"),v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"w-full flex flex-col items-center p-4"},[r("HostsTable",{staticClass:"flex-1 w-full",attrs:{"hosts-data":t.hosts},on:{updateCurrentHostEvent:t.updateCurrentHost}}),r("div",{staticClass:"w-full h-full flex flex-col flex-1 text-gray-100 border-t-4 pt-4"},[r("div",{staticClass:"flex h-28 p-2 border mb-4 bg-blue-500 items-center"},[r("div",{staticClass:"mr-4"},["windows"==t.current_host[3]?r("img",{staticClass:"w-16 max-h-16",attrs:{src:s("fb75"),alt:"windows"}}):t._e(),"linux"==t.current_host[3]?r("img",{staticClass:"w-16 max-h-16",attrs:{src:s("732c"),alt:"linux"}}):t._e(),"mac"==t.current_host[3]?r("img",{staticClass:"w-16 max-h-16",attrs:{src:s("6822"),alt:"mac"}}):t._e()]),r("div",{staticClass:"flex flex-col items-start text-md"},[r("span",{staticClass:"p-1 pb-0 rounded transition active:bg-blue-500 cursor-pointer w-fit",on:{click:function(e){return t.copyToClipboard(t.current_host[1])}}},[t._v(t._s(t.current_host[1]))]),r("span",{staticClass:"p-1 pb-0 rounded transition active:bg-blue-500 cursor-pointer w-fit",on:{click:function(e){return t.copyToClipboard(t.current_host[4])}}},[t._v(t._s(t.current_host[4]))]),r("p",{staticClass:"italic p-1 pb-0 rounded transition active:bg-blue-500 cursor-pointer w-fit",on:{click:function(e){return t.copyToClipboard(t.current_host[2])}}},[t._v(t._s(t.current_host[2]))])])]),r("table",{},[t._m(0),r("tbody",t._l(t.commands,(function(e,s){return r("tr",{key:s,staticClass:"text-center"},[r("td",{staticClass:"border-r border-b"},[t._v(t._s(e[1]))]),r("td",{staticClass:"border-r border-b"},[r("a",{attrs:{href:e[6],target:"_blank"}},[t._v(t._s(e[6]))])]),r("td",{staticClass:"border-r border-b"},[t._v(t._s(e[3]))]),r("td",{staticClass:"border-r border-b"},[t._v(t._s(0==e[4]?"En attente":"Executée"))]),r("td",{staticClass:"border-b"},[t._v("❌")])])})),0)]),r("div",{staticClass:"w-full flex mt-auto"},[r("div",{staticClass:"flex w-10/12 mr-6"},[r("input",{ref:"command-input",staticClass:"w-full text-gray-800 px-2 py-1 rounded rounded-tr-none rounded-br-none",attrs:{type:"text",placeholder:"Entrez une commande..."}}),r("button",{staticClass:"bg-green-600 rounded-tr py-1 rounded-br w-20",on:{click:t.addCommand}},[t._v("Ajouter")])]),r("span",{ref:"status",staticClass:"text-right items-center truncate",attrs:{title:this.status}},[t._v(t._s(this.status))])])])],1)},C=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticClass:"border-r border-b"},[t._v("Commande")]),s("th",{staticClass:"border-r border-b"},[t._v("Réponse")]),s("th",{staticClass:"border-r border-b w-48"},[t._v("Date de réponse")]),s("th",{staticClass:"border-r border-b w-28"},[t._v("Statut")]),s("th",{staticClass:"border-b w-16"})])])}],g=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("table",{staticClass:"w-full text-gray-200",attrs:{id:"hosts-table"}},[t._m(0),s("tbody",t._l(t.hostsData,(function(e,r){return s("tr",{key:r,staticClass:"host-tr",on:{click:function(s){return t.updateHost(e)}}},[s("td",{staticClass:"border-r border-b"},[t._v(t._s(e[0]))]),s("td",{staticClass:"border-r border-b"},[t._v(t._s(e[4]))]),s("td",{staticClass:"border-r border-b"},[t._v(t._s(e[1]))]),s("td",{staticClass:"border-r border-b"}),s("td",{staticClass:"border-r border-b"},[t._v(t._s(e[3]))]),s("td",{staticClass:"border-b"},[t._v(t._s(e[2]))])])})),0)])])},x=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticClass:"border-r border-b"},[t._v("#")]),s("th",{staticClass:"border-r border-b "},[t._v("IP")]),s("th",{staticClass:"border-r border-b"},[t._v("Hostname")]),s("th",{staticClass:"border-r border-b"},[t._v("Last Ping")]),s("th",{staticClass:"border-r border-b"},[t._v("OS")]),s("th",{staticClass:"border-b"},[t._v("MD5 Hash")])])])}],w={name:"HostsTable",props:{hostsData:Array},methods:{updateHost(t){this.$emit("updateCurrentHostEvent",t)}}},y=w,H=(s("d3ba"),Object(u["a"])(y,g,x,!1,null,null,null)),T=H.exports,j=s("bc3a"),k=s.n(j);const O=k.a.create({baseURL:"http://192.168.1.24:5000/api/",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}});var $={getHosts(){return O.get("/hosts/list")},getCommands(t){return O.get("/commands/list",{params:{host_id:t}})},addCommandToHost(t,e){return O.post("/commands/add",[t,e])},logout(t){return O.get("/auth/logout.php?token="+t)}},E={name:"Home",data(){return{hosts:[],interval:null,current_host:[],status:"",commands:[]}},methods:{getHosts(){$.getHosts().then(t=>{this.hosts=t.data}).catch(t=>{console.log("error getHosts")})},getCommands(){$.getCommands(this.current_host[0]).then(t=>{this.commands=t.data}).catch(t=>{console.log("error getCommands")})},updateCurrentHost(t){this.current_host=t,this.getCommands(),this.status=`Chargement de ${t[1]} (${t[4]})`},addCommand(){if(0!==this.current_host.length)if(0!==this.$refs["command-input"].value.length){var t=this.$refs["command-input"].value,e=this.current_host[0];$.addCommandToHost(e,t).then(t=>{this.status="Une commande à été ajoutée l'hôte "+this.current_host[1],this.$refs["command-input"].value="",this.getCommands()}).catch(t=>{console.log("error addCommandToHost")})}else this.status="<!> Entrez une commande <!>";else this.status="<!> Selectionnez un hôte <!>"},copyToClipboard(t){navigator.clipboard.writeText(t),this.status="Copié "+t}},mounted(){this.getHosts()},components:{HostsTable:T}},S=E,P=(s("cccb"),Object(u["a"])(S,v,C,!1,null,null,null)),M=P.exports,A=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"hosts-component"}},[s("TabTitle",{attrs:{title:"Hôtes"}}),s("HostsTable",{attrs:{"hosts-data":t.hosts}}),s("div")],1)},D=[],z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v(t._s(t.title))])])},J=[],L={name:"TabTitle",props:{title:String}},R=L,U=(s("b01b"),Object(u["a"])(R,z,J,!1,null,null,null)),q=U.exports,I={name:"Hosts",data(){return{hosts:[],interval:null}},methods:{getHosts(){$.getHosts().then(t=>{console.log(JSON.stringify(t.data)),this.hosts=t.data}).catch(t=>{console.log("error getHosts")})}},mounted(){this.hosts=[[1,"super-pc",""],[3,"ultrapc",""],[4,"victimpc","default-hash"],[5,"danger","default-hash"],[6,"megapc","default-hash"]]},components:{TabTitle:q,HostsTable:T}},N=I,B=(s("e4aa"),Object(u["a"])(N,A,D,!1,null,null,null)),F=B.exports,G=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},K=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v("Historique des commands")])])}],Q={name:"Commands"},V=Q,W=Object(u["a"])(V,G,K,!1,null,null,null),X=W.exports;r["a"].use(_["a"]);const Y=[{path:"/",name:"Home",component:M},{path:"/hosts",name:"Hosts",component:F},{path:"/commands",name:"Commands",component:X}],Z=new _["a"]({mode:"history",base:"/",routes:Y});var tt=Z;s("def6");r["a"].config.productionTip=!1,new r["a"]({router:tt,render:function(t){return t(f)}}).$mount("#app")},"5ced":function(t,e,s){},"5e25":function(t,e,s){},6822:function(t,e,s){t.exports=s.p+"img/mac.18c20820.png"},6860:function(t,e,s){},"732c":function(t,e,s){t.exports=s.p+"img/linux.c204f91a.png"},"84a1":function(t,e,s){},"85ec":function(t,e,s){},"8baf":function(t,e,s){"use strict";s("6860")},b01b:function(t,e,s){"use strict";s("1b3a")},cccb:function(t,e,s){"use strict";s("5ced")},cf05:function(t,e,s){t.exports=s.p+"img/logo.93f72262.png"},d3ba:function(t,e,s){"use strict";s("84a1")},def6:function(t,e,s){},e4aa:function(t,e,s){"use strict";s("5e25")},fb75:function(t,e,s){t.exports=s.p+"img/windows.f257f3e5.png"}});
//# sourceMappingURL=app.95c21043.js.map